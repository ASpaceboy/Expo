<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Table</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header">
    <a href="names.html">
        <img src="Logo.png" alt="Logo" class="logo-img">
    </a>
</div>

<!-- Input Form for Customization -->
<div class="controls">
    <label for="name">Enter Your Name: </label>
    <input type="text" id="name">
    
    <label for="bgColor">Select Background Color: </label>
    <input type="color" id="bgColor">

    <label for="fontSelect">Select Font: </label>
    <select id="fontSelect">
        <option value="Arial">Arial</option>
        <option value="Courier New">Courier New</option>
        <option value="Times New Roman">Times New Roman</option>
        <option value="Verdana">Verdana</option>
    </select>

    <button onclick="applyChanges()">Apply Changes</button>
</div>

<script>
// Function to save changes to localStorage
function applyChanges() {
    // Get values from the form
    const name = document.getElementById("name").value;
    const bgColor = document.getElementById("bgColor").value;
    const fontSelect = document.getElementById("fontSelect").value;

    // Check if name, color, and font are provided
    if (name && bgColor && fontSelect) {
        // Get the number of current entries (to create unique keys)
        const entryCount = localStorage.getItem("entryCount") || 0;
        
        // Save the new values in localStorage with incremental keys
        localStorage.setItem(`name${parseInt(entryCount) + 1}`, name);
        localStorage.setItem(`color${parseInt(entryCount) + 1}`, bgColor);
        localStorage.setItem(`font${parseInt(entryCount) + 1}`, fontSelect);

        // Update the entry count in localStorage
        localStorage.setItem("entryCount", parseInt(entryCount) + 1);

    } else {
        alert("Please fill in all fields.");
    }
}

// Function to load stored preferences from localStorage
window.onload = function() {
    // Check if there are any entries in localStorage
    const entryCount = localStorage.getItem("entryCount");

    if (entryCount > 0) {
        // Apply the most recent entry (entryCount-1) to the page
        const latestEntryIndex = entryCount; // Use the last saved entry

        // Retrieve the stored settings
        const savedName = localStorage.getItem(`name${latestEntryIndex}`);
        const savedColor = localStorage.getItem(`color${latestEntryIndex}`);
        const savedFont = localStorage.getItem(`font${latestEntryIndex}`);

        // Apply the stored settings to the page
        if (savedName) {
            document.getElementById("name").value = savedName; // Optionally, display the name in the input field
        }
        if (savedColor) {
            document.body.style.backgroundColor = savedColor; // Apply background color
            document.getElementById("bgColor").value = savedColor; // Optionally, set the color picker to saved value
        }
        if (savedFont) {
            document.body.style.fontFamily = savedFont; // Apply font
            document.getElementById("fontSelect").value = savedFont; // Optionally, set the dropdown to saved font
        }
    }
};
</script>

</body>
</html>
